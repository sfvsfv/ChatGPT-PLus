import{_ as N}from"./index-393f84c9.js";import{a as g}from"./config-544341a7.js";import{d as H,Q as M,r as b,x as F,o as S,c as T,e,f as l,a as d,k as L,E as V,h as n,q as h}from"./index-4223df14.js";const W={class:"flex justify-between"},q=d("b",null,"MJ参数设置",-1),E=d("h4",null,"绘图代理设置",-1),Q=d("h4",null,"绘图并发设置",-1),A=d("h4",null,"绘图可选设置",-1),J=d("div",{style:{width:"250px"}}," mj描述词的翻译默认设置为AI翻译、如果您想使用百度翻译请打开此选项并且在下面的百度翻译中配置上所需参数。 ",-1),O=d("div",{style:{width:"250px"}}," 隐藏客户端绘图页面的不需要的元素模块、隐藏后用户不可选择无法选中模块 ",-1),R=d("div",{style:{width:"250px"}}," 客户端绘图页面隐藏掉工作中模块、将不再展示给用户此模块。 ",-1),K=d("h4",null,"图片存储设置",-1),z=d("div",{style:{width:"250px"}}," 默认会存储图片到配置的存储中、如果开启此选择则表示不保存原图到我们配置的存储上、那么则必须配置一个图片反代地址、直接反代访问原始图片、这样可以进一步节省空间、需要您部署mj-proxy项目并填写基础地址即可！ ",-1),D=H({__name:"proxy",setup(G){const o=M({mjTimeoutMs:"",mjProxy:"0",mjProxyUrl:"",mjLimitCount:null,mjProxyImgUrl:"",mjNotSaveImg:"0",mjUseBaiduFy:"0",mjHideNotBlock:"0",mjHideWorkIn:"0"}),U=b({}),j=b();async function y(){const i=await g.queryConfig({keys:["mjTimeoutMs","mjProxy","mjProxyUrl","mjLimitCount","mjNotSaveImg","mjProxyImgUrl","mjUseBaiduFy","mjHideNotBlock","mjHideWorkIn"]});Object.assign(o,i.data)}function w(){var i;(i=j.value)==null||i.validate(async t=>{if(t){try{await g.setConfig({settings:k(o)}),V.success("变更配置信息成功")}catch{}y()}else V.error("请填写完整信息")})}function k(i){return Object.keys(i).map(t=>({configKey:t,configVal:i[t]}))}return F(()=>{y()}),(i,t)=>{const v=n("el-alert"),I=N,P=n("el-button"),r=n("el-switch"),m=n("el-form-item"),u=n("el-col"),s=n("el-row"),c=n("el-input"),x=n("el-divider"),_=n("QuestionFilled"),p=n("el-icon"),f=n("el-tooltip"),B=n("el-form"),C=n("el-card");return S(),T("div",null,[e(I,null,{default:l(()=>[e(v,{closable:!1,"show-icon":"",title:"MJ参数说明",description:"如果您是海外服务器则不强制开启代理、反之则需要开启代理、代理为系统配套项目、非常规代理、如果您想自己搭建代理请查看教程、如果您想使用系统提供的默认代理、那么选择开启代理并且不填写代理地址即可使用默认地址、如果想获取默认地址请在售后群获取地址！",type:"success"})]),_:1}),e(C,{style:{margin:"20px"}},{header:l(()=>[d("div",W,[q,e(P,{class:"button",text:"",onClick:w},{default:l(()=>[L(" 保存设置 ")]),_:1})])]),default:l(()=>[e(B,{ref_key:"formRef",ref:j,rules:U.value,model:o,"label-width":"150px"},{default:l(()=>[E,e(s,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(m,{label:"是否开启代理",prop:"mjProxy"},{default:l(()=>[e(r,{modelValue:o.mjProxy,"onUpdate:modelValue":t[0]||(t[0]=a=>o.mjProxy=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(m,{label:"请填写代理地址",prop:"mjProxyUrl","label-width":"150"},{default:l(()=>[e(c,{modelValue:o.mjProxyUrl,"onUpdate:modelValue":t[1]||(t[1]=a=>o.mjProxyUrl=a),placeholder:"请填写代理地址、详细使用请访问教程！",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(m,{label:"绘画超时时间设置ms",prop:"mjTimeoutMs","label-width":"150"},{default:l(()=>[e(c,{modelValue:o.mjTimeoutMs,"onUpdate:modelValue":t[2]||(t[2]=a=>o.mjTimeoutMs=a),placeholder:"请设置绘画超时时间、单位为ms、根据慢速快速定义（后续优化逻辑）",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(x),Q,e(s,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(m,{label:"单人绘图并发限制",prop:"mjLimitCount","label-width":"150"},{default:l(()=>[e(c,{modelValue:o.mjLimitCount,"onUpdate:modelValue":t[3]||(t[3]=a=>o.mjLimitCount=a),placeholder:"单人同时绘制限制数量、同一时间最多可以绘制几张！",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(x),A,e(s,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(m,{label:"描述词使用百度翻译",prop:"mjUseBaiduFy","label-width":"150"},{default:l(()=>[e(r,{modelValue:o.mjUseBaiduFy,"onUpdate:modelValue":t[4]||(t[4]=a=>o.mjUseBaiduFy=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(f,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>[J]),default:l(()=>[e(p,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(_)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(m,{label:"隐藏不需要元素模块",prop:"mjHideNotBlock","label-width":"150"},{default:l(()=>[e(r,{modelValue:o.mjHideNotBlock,"onUpdate:modelValue":t[5]||(t[5]=a=>o.mjHideNotBlock=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(f,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>[O]),default:l(()=>[e(p,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(_)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(m,{label:"隐藏工作中内容模块",prop:"mjHideWorkIn","label-width":"150"},{default:l(()=>[e(r,{modelValue:o.mjHideWorkIn,"onUpdate:modelValue":t[6]||(t[6]=a=>o.mjHideWorkIn=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(f,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>[R]),default:l(()=>[e(p,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(_)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(x),K,e(s,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(m,{label:"不存储图片",prop:"mjNotSaveImg"},{default:l(()=>[e(r,{modelValue:o.mjNotSaveImg,"onUpdate:modelValue":t[7]||(t[7]=a=>o.mjNotSaveImg=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(f,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>[z]),default:l(()=>[e(p,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(_)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(m,{label:"图片反代地址",prop:"mjProxyImgUrl","label-width":"150"},{default:l(()=>[e(c,{modelValue:o.mjProxyImgUrl,"onUpdate:modelValue":t[8]||(t[8]=a=>o.mjProxyImgUrl=a),placeholder:"图片反代地址、用于代理访问图片、此项目请自行部署mj-proxy项目配置其中的地址即可！",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof h=="function"&&h(D);export{D as default};
